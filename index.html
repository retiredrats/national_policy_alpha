<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>国策文游（PWA 原型）</title>
  <meta name="theme-color" content="#111111" />
  <link rel="manifest" href="./public/manifest.webmanifest" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="./public/icons/icon-192.png">
  <style>
    html,body { margin:0; padding:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "PingFang SC", "Noto Sans CJK", "Microsoft YaHei", Arial, sans-serif; background:#0b0b0c; color:#e6e6e6; }
    header { position:sticky; top:0; background:#111; border-bottom:1px solid #222; padding:10px 16px; display:flex; gap:12px; align-items:center; z-index:10; }
    header .title { font-weight:700; }
    header .info { opacity:0.7; font-size:14px; }
    main { padding:16px; display:grid; grid-template-columns: 280px 1fr; gap:16px; }
    nav { background:#121214; border:1px solid #222; border-radius:12px; padding:12px; display:flex; flex-direction:column; gap:8px; }
    nav button { text-align:left; background:transparent; border:1px solid #2a2a2a; color:#ddd; border-radius:8px; padding:10px; cursor:pointer; }
    nav button.active { border-color:#4f8cff; }
    .panel { background:#121214; border:1px solid #222; border-radius:12px; padding:16px; }
    .grid { display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:12px; }
    .card { background:#0f0f11; border:1px solid #222; border-radius:12px; padding:12px; }
    .row { display:flex; gap:8px; align-items:center; }
    input[type="number"] { width:120px; background:#0c0c0e; color:#eee; border:1px solid #2a2a2a; border-radius:8px; padding:6px 8px; }
    .primary { background:#4f8cff; color:white; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; }
    .secondary { background:#1a1a1d; color:#ddd; border:1px solid #2a2a2a; padding:10px 14px; border-radius:10px; cursor:pointer; }
    .muted { opacity:0.7; font-size:12px; }
    .right { margin-left:auto; }
    .danger { color:#ff7b7b; }
    .ok { color:#86efac; }
    .warn { color:#fbbf24; }
    .toolbar { display:flex; gap:8px; align-items:center; }
  </style>
</head>
<body>
  <header>
    <div class="title">国策文游 · 原型</div>
    <div id="saveInfo" class="info">未载入存档</div>
    <div class="right"></div>
    <button id="btnPrimary" class="primary">生成建议值</button>
    <button id="btnExport" class="secondary">导出存档</button>
    <button id="btnImport" class="secondary">导入存档</button>
    <input id="fileImport" type="file" accept=".json,.gz,.zip" style="display:none" />
  </header>

  <main>
    <nav>
      <div class="toolbar">
        <button id="btnNew" class="secondary">＋ 新国家</button>
        <button id="btnSaves" class="secondary">存档</button>
      </div>
      <button data-tab="overview" class="active">总览 Overview</button>
      <button data-tab="economy">经济 Economy</button>
      <button data-tab="population">人口 Population</button>
      <button data-tab="finance">财政 Finance</button>
      <button data-tab="military">军事 Military</button>
      <button data-tab="policies">政策 Policies</button>
      <button data-tab="logs">日志 Logs</button>
    </nav>

    <section class="panel">
      <div id="tab-overview">
        <h2>季度控制台</h2>
        <div class="grid">
          <div class="card"><div>年份季度</div><div id="labelYQ" class="muted">—</div></div>
          <div class="card"><div>GDP</div><div id="labelGDP" class="muted">—</div></div>
          <div class="card"><div>通胀</div><div id="labelCPI" class="muted">—</div></div>
          <div class="card"><div>失业</div><div id="labelU" class="muted">—</div></div>
          <div class="card"><div>财政赤字</div><div id="labelDef" class="muted">—</div></div>
          <div class="card"><div>债务率</div><div id="labelDebt" class="muted">—</div></div>
          <div class="card"><div>军备评分</div><div id="labelMil" class="muted">—</div></div>
          <div class="card"><div>社会稳定</div><div id="labelStab" class="muted">—</div></div>
        </div>
        <h3 style="margin-top:16px">建议值（可编辑）</h3>
        <div class="grid">
          <div class="card">
            <div class="row"><div>投资/GDP(%)</div><input id="inpInvestShare" type="number" step="0.1" /></div>
            <div class="muted">二产与瓶颈优先</div>
          </div>
          <div class="card">
            <div class="row"><div>研发/GDP(%)</div><input id="inpRNDShare" type="number" step="0.1" /></div>
            <div class="muted">提升技术指数</div>
          </div>
          <div class="card">
            <div class="row"><div>训练预算/人</div><input id="inpTrainPerCap" type="number" step="1" /></div>
            <div class="muted">提升训练度</div>
          </div>
          <div class="card">
            <div class="row"><div>维持费/装备</div><input id="inpMaintainPerEq" type="number" step="1" /></div>
            <div class="muted">提升完好率</div>
          </div>
          <div class="card">
            <div class="row"><div>税率微调(百分点)</div><input id="inpTaxDelta" type="number" step="0.1" /></div>
            <div class="muted">稳定债务率</div>
          </div>
        </div>
      </div>
      <div id="tab-economy" style="display:none"><h2>经济</h2><pre id="viewEconomy"></pre></div>
      <div id="tab-population" style="display:none"><h2>人口</h2><pre id="viewPopulation"></pre></div>
      <div id="tab-finance" style="display:none"><h2>财政</h2><pre id="viewFinance"></pre></div>
      <div id="tab-military" style="display:none"><h2>军事</h2><pre id="viewMilitary"></pre></div>
      <div id="tab-policies" style="display:none"><h2>政策</h2><pre id="viewPolicies"></pre></div>
      <div id="tab-logs" style="display:none"><h2>日志</h2><pre id="viewLogs"></pre></div>
    </section>
  </main>

  <script type="module" src="./src/main.js"></script>
</body>
</html>
